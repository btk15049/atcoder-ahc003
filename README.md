# AtCoder Heuristic Contest 003

https://atcoder.jp/contests/ahc003/tasks/ahc003_a

## 日記

### 5/22

初日

問題文を読んだ感想

- 多腕バンディッドの亜種に見える
  - ~~最初の方のスコアの重みが大きい~~
    - 逆だった、最初のスコアは割とどうでもいいっぽい（最初のほうが大きいほうが面白いと思うけど、、、）
  - 経路の結果から辺の重みの推定値をどう算出するかが難しそう
- なぜかグラフのパターンが 2 種類ある
  - M によって変わる
    - M = 1 なら一列の辺のコストは近い値になる
    - M = 2 なら、一列の辺がある一箇所で二分されて、分割された内部は近い値になる
- ~~WA の条件に同じ頂点を使うことやゴールを通り過ぎることが含まれていない~~
  - 同じ頂点を使ってはいけないと書いてあった、鬼
  - ~~最初の 10 回とかを使ってマップのほぼ全域を探査し、予測値を推定することは可能そう~~
    - ~~M = 1 ならかなり有効、60 回あれば各辺の平均値を出せる、M = 2 の場合は厄介~~
    - ~~この方法をやるかどうかは、最終スコア次第~~
      - ~~最初の 60 回を犠牲にする価値があるかどうか~~
      - ~~200 回目の時点で 60% -> 90% とかにできるならやってもいいのかも~~
      - ~~うまくやれば 1 クエリで 2 列分 探索できるはず~~
        - ~~片方の列を 100 往復、片方の列を 1 往復 とすると、平均値は見えそう~~
- ビジュアライザが見づらい
  - これはポリゴンショックでは、、、
  - ホットスポットみたいなものがあるはずなので、それをうまくブラシとかで表現したい

実装したもの

- ルール通り動かすための道具
- UCB1 っぽいものを使ったバンディットアルゴリズム
  - 辺を 今まで計測できた 推定値 - 期待値 みたいに扱って、それを距離とみなしダイクストラをする
    - 通常の ucb 関数は 勝率 + 期待値 みたいな形になるはずなので、少し形が違う
    - 期待値の計算は雑に 500 ぐらいをかける
  - もっとちゃんと推定をしたい

### 5/23

気づいたこと

- ジャッジから返ってくるのは正確な数値じゃないことに気づく
  - 連立方程式使うの意味なくない？
- 公式ツールを書き換えて、推定値と実際の数値の乖離を出力するようにしたい
  - Rust 読めません、無理！
    - 気合で書き換えた
- デバッグモードを実装して、推定値と解を出力してみたところ、かなりの乖離があることがわかった
  - 連立方程式がたくさん与えられるので、式をうまくあてはめて誤差を最小化してくださいという問題にしたい
    - 最小二乗法。。。

### コマンド

#### 公式ツールを DL

```bash
wget -O tester.zip "https://img.atcoder.jp/ahc003/c1ae4a8996958aa31f5f9d3aa3f51033.zip"
unzip tester.zip
```
